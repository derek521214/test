<?php
/**
 * Created by PhpStorm.
 * User: Derek
 * Date: 2019/10/11
 * Time: 16:41
 */

$codes =[
    '370288',
    '370285',
    '3702860',
    '3702861',
    '3702862',
    '3702863',
    '3702864',
    '3702865',
    '3702867',
    '370287',
    '370289',
    '377968',
    '379965',
    '379900',
    '376966',
    '376968',
    '379922',
    '379889',
    '370267',
    '370246',
    '370247',
    '370248',
    '370249',
    '379983',
    '3771858',
    '3771855',
    '37718566',
    '377186',
    '378005',
    '37715502',
    '37989903',
    '37989902',
    '37989910',
    '37989911',
    '3793672',
    '379983',
    '37989905',
    '3702866',
    '3702868',
    '3702869',
    '377677',
    '374738',
    '374739',
    '37718788',
    '37718711',
    '37998688',
    '37998668',
    '37998686',
    '37998666',
    '37998676',
    '37715588',
    '37715586',
    '37715503',
    '3793682',
    '379900',
];

//$str = '379900';
//
//var_dump(strpos('1137990023434234', $str));


// 检查是否符合优惠码规则
function checkCode(string $inputCode, $codes)
{
    $isFree = false;
    foreach ($codes as $code) {

        if (strpos($inputCode, $code)===0) {
            $isFree = true;
            break;
        }
    }
    return $isFree;
}


var_dump(checkCode('137990012421', $codes));
